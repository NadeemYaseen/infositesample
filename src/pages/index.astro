---
import Layout from '../layouts/Layout.astro';
import Header from '../components/Header.astro';
import Footer from '../components/Footer.astro';
import FeatureCard from '../components/FeatureCard.astro';
---

<Layout title="Welcome to Barcelona Guide">
  
  <Header />

  <main>
    <!-- ====================================================== -->
    <!-- HERO SECTION (This is where we add the sticky effect) -->
    <!-- ====================================================== -->
    <!-- 
      THE CHANGE - PART 1:
      - `sticky top-0`: This makes the section "stick" to the top of the viewport
        once you scroll to it.
      - `z-10`: We give it a lower stacking order, so it will be in the background.
    -->
    <section class="h-[80vh] sticky top-0 z-10 flex items-center justify-center">
      <img src="/hero-background.jpg" alt="A scenic view of Barcelona" class="absolute inset-0 w-full h-full object-cover -z-10">
      <div class="absolute inset-0 bg-black/50"></div>
      <div class="relative text-center text-white p-4">
        <h1 class="text-5xl md:text-7xl font-bold uppercase tracking-wider">
          Discover <span class="text-accent">Barcelona</span>
        </h1>
        <p class="mt-4  text-lg text-center md:text-xl">
          Your essential guide to the city of Gaudí, tapas, and endless sunshine.
        </p>
      </div>
    </section>

    <!-- ====================================================== -->
    <!-- MAIN CONTENT SECTION (This scrolls OVER the hero) -->
    <!-- ====================================================== -->
    <!-- 
      THE CHANGE - PART 2:
      - `relative`: This is required for z-index to work correctly.
      - `z-20`: We give this section a HIGHER stacking order, so it passes
        in front of the sticky hero section.
    -->
    <section class="relative z-20 bg-dark-bg py-20 px-6">
      <div class="max-w-7xl mx-auto">
        
        <!-- Section Title -->
        <div class="text-center mb-12">
          <h2 class="text-4xl md:text-5xl font-bold text-light-text">
            Explore The City
          </h2>
          <p class="mt-4 text-lg text-light-text/70 max-w-2xl mx-auto">
            From the winding alleys of the Gothic Quarter to the architectural wonders of Antoni Gaudí, every corner tells a story.
          </p>
        </div>

        <!-- Three-Column Grid -->
        <div class="grid grid-cols-1 md:grid-cols-3 gap-8">
          <FeatureCard title="Restaurants" href="/restaurants">
            Discover the best local and international cuisine. We highlight top-rated eateries, including halal-certified options for every palate.
          </FeatureCard>
          <FeatureCard title="Places to Visit" href="/places">
            Don't miss a thing. Explore iconic landmarks like the Sagrada Familia, vibrant parks, and hidden gems off the beaten path.
          </FeatureCard>
          <FeatureCard title="Events & Clubs" href="/guides">
            Experience Barcelona's vibrant nightlife and cultural scene. Find information on local festivals, concerts, and the best clubs in the city.
          </FeatureCard>
        </div>
      </div>
    </section>

    <!-- The footer is now part of the content that scrolls OVER the hero image.
         It will appear at the very end as expected. -->
    <div class="relative z-20">
      <Footer />
    </div>

  </main>
</Layout>